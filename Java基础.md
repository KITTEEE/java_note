## Java基础

### 概述

Java 是一种强类型（程序中表达的任何对象所从属的*类型*都必须能在编译时刻确定）编程语言。由 Sun 公司开发。



#### Java开发环境概述

Java 开发环境主要由 JDK（Java开发工具包）和 JRE （Java 运行环境）



#### JDK 与 JRE 的区别

JDK 是 Java 的开发环境，JRE 是 Java的运行环境，若你只需要运行 Java 程序而不需要开发，则可只安装 JRE ，一般我们下载的 JDK 里都包含了 JRE 



#### Java 的跨平台性

Java 的跨平台指的是跨操作系统，实现跨平台主要依赖于 Java 的虚拟机 JVM ，Java 程序可以在任意操作系统上运行，一次编写到处运行。 



#### Java 程序编写流程

主要过程为：编写源文件 (.java) —编译源文件为字节码文件 (.class) —由解释器运行字节码文件。

在 DOS 命令下，编译源文件的命令为 javac 文件名.java；运行字节码文件命令为 java  文件名，要记住不能给出.class。



#### Eclipse快捷键

内容辅助键：**Alt+/**
自动补齐main方法：**main 然后 Alt+/****
自动补齐输出语句：**syso 然后 Alt+/**
格式化：**Ctrl+Shift+f** 或 代码区域右键 **Source – Format**
自动导包： **Ctrl+Shift+o**
如果当前类在多个包中都存在，这时候，使用Ctrl+shift+o,进行选择一个包导入即可。

**单行注释**

加注释： 先选中需要注释的内容，然后 **Ctrl+/**
取消注释：先选中需要取消注释的内容， 然后 **Ctrl+/**

**多行注释**

加注释： 先选中需要注释的内容，然后 **Ctrl+Shift+/**
取消注释：先选中需要取消注释的内容， 然后 **Ctrl+Shift+/**



#### 第一个 Java 程序

```java
public class HelloWorld {
    public static void main(String []args) {
        System.out.println("HelloWorld");
    }
}
```



#### 注释、关键字与标识符

标识符：在 Java 中定义类、方法、变量时给他们起的名字。

标识符规则：1. 不能以数字开头 2. 不可以使用关键字 3.严格区分大小写



### Java 中的变量



#### 计算机存储单元

计算机存储设备的最小信息单元是"位(bit)"，又叫比特位，用小写字母 b 表示。计算机最小的存储单元叫”字节(byte)“，通常用大写字母 B 表示，一个字节 byte 由 8 个位 bit 组成。



#### 基本类型之 4 类 8 种

| 四类       | 八种    | 字节数 | 表示范围                              |
| ---------- | ------- | ------ | ------------------------------------- |
| **整型**   | byte    | 1      | -128～127                             |
|            | short   | 2      | -32768～32767                         |
|            | int     | 4      | -2147483648～2147483648               |
|            | long    | 8      | -2^63 ~ 2^63 - 1                      |
| **浮点型** | float   | 4      | -3.403E38～3.403E38                   |
|            | double  | 8      | -1.798E308～1.798E308                 |
| **字符型** | char    | 2      | 表示一个字符，如('a'，'A'，'0'，'家') |
| **布尔型** | boolean | 1      | 只有两个值true与false                 |



**在 Java 中，默认的整数类型是 int 类型，默认的浮点类型是 double 类型。**

Java 中，整数常量会根据所在范围来确定它的类型，如果整数常量不在 int 类型的表示范围内，就必须添加“L”后缀，表示它是 long 类型，否则就会是错误的常量，当然，在 int 类型范围内的也可以添加“L”后缀，添加后此常量就是 long 类型。

Java 中使用“D”后缀或者没有使用的浮点类型常量的小数都是 double 类型，表示 float 类型常量须添加“F”后缀。

```java
byte b = 200;//超过范围，会出错
float f = 1.0；//错误，小数默认为 double 类型，加上F后缀即可
```



#### 创建变量

```java
//下面语句为创建变量语句，会在内存中划分出一个 4 字节的区域来存放数据
int a = 100;
```

变量定义后可以不赋值，使用时再赋值，不赋值不能使用。

变量使用时有作用域限制。

变量不可重复定义。



#### Java 中的数据类型转换

**范围小的数据类型值（如byte），可以直接转换为范围大的数据类型值（如int）。** **范围大的数据类型值（如int），不可以直接转换为范围小的数据类型值（如byte）。**

**布尔类型不参与类型转换。**

**自动类型转换**

```java
//自动类型转换，用于范围小转换为范围大：
//范围大的数据类型 变量 = 范围小的数据类型值
double d = 1000;
int i = 100;
double d2 = i;
```

**强制类型转换**

```java
//强制类型转换，用户范围大转换为范围小，会损失精度：
//范围小的数据类型  变量 = (范围小的数据类型) 范围大的数据类型值;
int i =(int)6.12;//i的值为6
double d = 3.14;
int i2 = (int)d;//i的值为3
```



#### 算数运算符

**自增 ++ 、和自减 -- 符号的使用注意：** 在与其他运算符一起参与运算操作时，后置 ++、-- 会在其他运算操作完成后使变量自身自增或自减 1 。前置 ++、-- 会先使变量自身自增或自减 1，然后在使变量参与剩下的运算操作。

```java
int a = 3;
int b;
b = a++ + 10;
System.out.println(a); // a = 4
System.out.println(b); // b = 13
```

```java
int a = 3;
int b;
b= ++a + 10;
System.out.println(a); // a = 4
System.out.println(b); // b = 14
```

诸如 += 这样形式的赋值运算符，会将结果自动转换成等号左边的数据类型。

```java
byte x = 10;
x += 20; //相当于 x = (byte)(x+20);
```



#### 逻辑运算符

| **运算符** | **运算规则** | **范例**      | **结果** |
| ---------- | ------------ | ------------- | -------- |
| &          | 与           | false&true    | False    |
| \|         | 或           | false\|true   | True     |
| ^          | 异或         | true^flase    | True     |
| !          | 非           | !true         | Flase    |
| &&         | 短路与       | false&&true   | False    |
| \|\|       | 短路或       | false\|\|true | True     |

& 和 | 两边都会运行

&& 一边是false，另一边不运行。|| 一边是true，另一边不运行。

```java
int i = 3,j = 4;
System.out.println(3>4 && ++j>2); //false
System.out.println(i); // i=3
System.out.println(j); // 由于另一边不运行 j = 4
```



### 引用数据类型

与定义基本数据类型变量不同，引用数据类型的变量定义及赋值有一个相对固定的步骤或格式。

`数据类型  变量名  =  new 数据类型();`

#### Scanner类

scanner 类 用来完成用户的键盘录入，获取用户键盘输入的数据。有 nextInt() 、next() 等方法

```java
Scanner sc = new Scanner(System.in);//创建Scanner对象
int i = sc.nextInt();//接收键盘输入的数字
String s = sc.next();//接收键盘输入的字符串
```



#### Random类

random 类用来生成多种数据类型的随机数。

```java
Random r = new Random();
//得到 0-100 范围内的随机整数，但不包括100
int i = r.nextInt(100);
//得到 0.0 - 1.0 范围内的小数，但不包括1.0
double d = r.nextDouble()；
```



### 流程控制语句

for 循环执行顺序

```
for（1 ; 2 ; 3）{
	4
}
第一步，执行1
第二步，执行2，如果判断结果为true，执行第三步，如果判断结果为false，执行第五步
第三步，执行4
第四步，执行3，然后重复执行第二步
第五步，退出循环

```

无限循环

```
while(true) { }
for( ; ; ) { }
```

break 语句：跳出本循环。

continue 语句：跳出本次循环，进行下一次循环。



### 数组

用来存储同一个数据类型的多个元素的一种容器。有以下三种创建格式：

#### 数组的声明

```java
//数据类型[] 数组名 = new 数据类型[数组长度];
int[] a1 = new int[5];
//数据类型[] 数组名 = new 数据类型[]{元素值1,元素值2,..};
int[] a2 = new int[]{1,2,3,4,...} //注意不能指定数组长度,即[]里不能写
//数据类型[] 数组名 = {元素值1,元素值2,..};
int[] a3 = {1,2,3,4,....} //这种较为常用
```

在创建数组时若没有给数组赋值，则数组各个元素的值默认为0，根据元素类型的不同，默认值也不一样。

**创建数组时，引用数组的变量存储的是数组在内存中的地址。**



#### 数组常见异常

##### 数组越界异常

每个数组索引都有范围，即 0 ~ length-1 ，在访问数组元素时索引不能超过这个返回，否则会出 ArrayIndexOutOfBoundsException

##### 空指针异常

使用变量时引用一个数组时，变量必须指向一个有效的数组对象，若该变量指向为null或无效，则会出现 NullPointerException
e

```
int[] arr = new int[3];
arr[0] = 5;
System.out.println(arr[0]);
arr = null;
System.out.println(arr[0]); //抛出空指针异常
```



#### 二维数组

定义方式有以下三种：

```java
// m 代表二维数组中一维数组的个数
// n 代表每个一维数组中元素的个数
int[][] arr1 = new int[m][n];
int[][] arr2 = new int[m][]; //数组中每个元素的长度不确定
int[][] arr3 = {{1,2},{3,4,5},{6,7,8,0}};

//arr1[0],arr1[1],arr1[2]存放的是地址
```



### JVM中的内存划分

暂略



### Java中的方法



#### 方法的定义

```
修饰符 返回值类型 方法名(参数类型 参数名1,参数类型 参数名2,．．．．．．){ 
	执行语句
	……… 
	return 返回值;
}
```

如果方法没有明确的返回值类型，使用'空'类型，void表示。

void只能在方法返回值类型位置使用，不能作为普通的数据类型使用。



#### 方法的重载

在Java中允许在一个类种定义多个名称相同，但参数类型和参数个数不同的方法，这就叫做方法的重载。

重载时要注意：重载只与方法名、参数类型、参数个数有关，和返回值或变量标识符无关。

```java
如 void method(int x)与int method(int y)不是方法的重载；
public static int method(int x)与void method(int y)不是方法的重载；
判断是不是重载看参数类型和参数个数就好；
```

方法重载，是通过JVM来完成同名方法的调用的，通过参数列表来决定调用的是哪一个方法。



#### 方法中的参数传递

当调用方法时，若传入的数值为基本数据类型(包含String类型)，形参的改变对实际参数不影响；若传入的数值为引用数据类型(数组，类等，String类型除外)，形参的改变对实参有影响。

```java
int a=5,b=10;
change1(a,b);//调用方法，传入的参数是基本数据类型
syso(a);//还是5
syso(b);//还是10
void change1(int a,int b){
    a=200;b=500;
}

int[] arr = {1,2,3};
change2(arr);//调用方法，传入的参数是引用类型
for(int i=0;i<arr.length;i++){
    syso(arr[i]);//输出{2,4,6}
}
void change2(int[] arr) {
    for(int i=0;i<arr.length;i++) {
       	arr[i] *= 2;
    }
}
```



### 类

略



### 集合

#### ArrayList集合

ArrayList 是 Java 中常见的集合，它属于引用数据类型(类)，ArrayList内封装了一个长度可变的数组，当存入的元素超过数组长度时，ArrayList会在内存中分配一个更大的数组来存储元素。

ArrayList的创建

```java
//ArrayList<要存储元素的数据类型> 变量名 = new ArrayList<要存储元素的数据类型>();
ArrayList<String> str = new ArrayList<String>();
```

注意，**要存储元素的数据类型必须是引用数据类型**，不能是基本数据类型，Java 中给出了 8 种基本数据类型的引用数据类型表示形式（除 int—Integer，char—Character 外，其他都是将基本数据类型的首字母大写即可）。

ArrayList的常用方法：

```java
//将指定的元素 obj 添加到集合中指定的位置，不会替换原来位置上的元素,若没有指定 index 参数，则直接添加到集合末尾
boolean add(int index,Object obj)； 
//用指定元素 obj 替换 index 处的元素，并返回该元素
Object set(int index,Object obj);
//返回集合的元素个数
int size()；
//返回集合中指定位置上的元素
Object get(int index)；
//删除指定 index 处的元素，并返回该元素
Object remove(int index);
//清空集合中所有元素
void clear();
```



